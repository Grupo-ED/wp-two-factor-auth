window.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("loginform");e.addEventListener("submit",function t(n){n.preventDefault();e.removeEventListener("submit",t);var o=document.getElementById("user_login").value;if(!o)return!0;var r=new XMLHttpRequest;r.addEventListener("readystatechange",function(){try{if(r.readyState===XMLHttpRequest.DONE){var t=JSON.parse(r.responseText);if(!0===t.status){var n=document.getElementById("two_factor_auth");n.removeAttribute("disabled"),document.getElementById("tfa-block").style.display="block",n.focus()}else e.submit()}}catch(e){console&&console.error(e)}});r.open("POST",tfaSettings.ajaxurl);r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");r.send("action=tfa-init-otp&user="+encodeURIComponent(o));return!1})});